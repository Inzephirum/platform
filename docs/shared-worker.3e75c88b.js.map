{"version":3,"sources":["platform/channel/shared-worker.ts"],"names":[],"mappings":";AAGA,IAAM,EAAS,KACT,EAAuB,GAE7B,EAAO,iBAAiB,UAAW,SAAC,GAC3B,IAAA,EAAQ,EAAE,MAAK,GAEtB,EAAM,KAAK,GAEX,EAAK,iBAAiB,UAAW,SAAC,GAChC,EAAM,QAAQ,SAAA,GACR,IAAM,GACR,EAAE,YAAY,EAAM,QAIxB,EAAK,YAAY,EAAM,QAGzB,EAAK","file":"shared-worker.3e75c88b.js","sourceRoot":"../src","sourcesContent":["\nimport type { WorkerMessageEvent } from './types';\n\nconst worker = self as unknown as SharedWorkerGlobalScope;\nconst ports: MessagePort[] = []\n\nworker.addEventListener('connect', (e) => {\n  const [port] = e.ports;\n\n  ports.push(port);\n\n  port.addEventListener('message', (event: WorkerMessageEvent) => {\n    ports.forEach(p => {\n      if (p !== port) {\n        p.postMessage(event.data);\n      }\n    })\n\n    port.postMessage(event.data);\n  })\n\n  port.start();\n});\n"]}